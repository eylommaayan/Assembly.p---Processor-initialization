    processor 6502
    ; הגדרת תחום הקוד – קוד למעבד מסוג 6502
    seg code
    ; קובעים שהקוד יתחיל בכתובת F000 בזיכרון (תחילת ROM)
    org $F000       

Start:
    ; השבתת פסיקות (Interrupts) – שלא יפריעו במהלך האתחול
    sei             
    ; ביטול מצב חישוב עשרוני (Decimal Mode) – נשתמש רק בבינארי
    cld             
    ; טוען את הערך FF (255) לרגיסטר X – נשתמש בו למחסנית
    ldx #$FF        
    ; מעתיק את הערך מ־X לרגיסטר המחסנית (Stack Pointer)
    ; מגדיר את המחסנית להתחיל בכתובת הגבוהה ביותר ($01FF)
    txs             

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; ניקוי כל זיכרון הדף הראשון – כתובות $0000 עד $00FF
; כולל RAM + רשומות חומרה (למשל TIA אם מדובר ב־Atari)
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

    ; טוען את הערך 0 לאוגר A – נשתמש בו כדי לרשום אפסים בזיכרון
    lda #0          
    ; טוען שוב את FF לרגיסטר X – נשתמש כדי לעבור על כל הזיכרון
    ldx #$FF        

MemLoop:
    ; שומר את הערך שב־A (כלומר אפס) בכתובת $0000 + X
    ; כלומר: $00FF, $00FE, ..., $0000
    sta $0,X        
    ; מקטין את הערך של X ב־1 (X = X - 1)
    dex             
    ; אם X ≠ 0 → חזור ללייבל MemLoop
    ; כלומר – חזור על הפעולה עד שנגיע ל־X=0
    bne MemLoop     

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; הגדרת וקטור אתחול (Reset Vector) – הכתובת שיטען המעבד כשהוא נדלק
; זה חלק מהדרישות של מעבד 6502: הכתובות $FFFC ו־$FFFE חייבות להכיל
; את המקום שבו מתחיל הקוד
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

    ; ממשיכים לכתוב בזיכרון בכתובת $FFFC – סוף ה־ROM
    org $FFFC
    ; כתובת ההתחלה (Reset Vector) – המעבד יתחיל את הקוד מהתווית Start
    .word Start     
    ; כתובת לפסיקה (Interrupt vector) – לא בשימוש פה, גם היא מצביעה על Start
    .word Start     
